# React 前端项目说明

## 📦 项目概述

这是一个完整的 React 前端项目，使用 Vite + React + Ant Design 构建，与 Spring Boot 后端完美集成。

## 🎯 功能特性

### ✅ 已实现功能

1. **用户认证**
   - 用户注册（带表单验证）
   - 用户登录（Token 管理）
   - 自动 Token 刷新
   - 修改密码

2. **用户管理**
   - 用户列表展示（表格）
   - 用户搜索（按姓名、年龄范围）
   - 创建用户
   - 编辑用户信息
   - 删除用户（带确认）

3. **UI/UX**
   - 响应式设计
   - 美观的渐变背景
   - Ant Design 组件库
   - 加载状态提示
   - 错误提示

4. **路由保护**
   - 未登录自动跳转登录页
   - Token 失效自动处理
   - 路由权限控制

## 📁 项目结构详解

```
frontend-react/
├── src/
│   ├── components/          # 公共组件
│   │   ├── Layout.jsx       # 主布局（侧边栏+顶部栏）
│   │   ├── ProtectedRoute.jsx  # 路由保护组件
│   │   └── ChangePasswordModal.jsx  # 修改密码弹窗
│   │
│   ├── config/             # 配置文件
│   │   └── api.js          # API 基础配置
│   │
│   ├── contexts/           # React Context（状态管理）
│   │   └── AuthContext.jsx  # 认证上下文（用户状态、登录/登出）
│   │
│   ├── pages/              # 页面组件
│   │   ├── Login.jsx       # 登录页面（含注册标签页）
│   │   ├── Register.jsx   # 注册组件
│   │   ├── Home.jsx        # 首页（用户信息展示）
│   │   ├── UserList.jsx   # 用户列表（表格+搜索+CRUD）
│   │   └── UserDetail.jsx # 用户详情/编辑页面
│   │
│   ├── services/           # API 服务层
│   │   └── api.js          # 所有后端 API 封装
│   │
│   ├── App.jsx             # 主应用组件（路由配置）
│   ├── main.jsx            # 入口文件
│   └── index.css           # 全局样式
│
├── package.json            # 项目依赖配置
├── vite.config.js         # Vite 配置
└── README.md              # 项目说明
```

## 🔧 核心技术

### 1. **React Router** - 路由管理
```javascript
// 路由配置在 App.jsx
<Routes>
  <Route path="/login" element={<Login />} />
  <Route path="/" element={<ProtectedRoute><Layout><Home /></Layout></ProtectedRoute>} />
  <Route path="/users" element={<ProtectedRoute><Layout><UserList /></Layout></ProtectedRoute>} />
</Routes>
```

### 2. **Axios** - HTTP 请求
```javascript
// 自动添加 Token
api.interceptors.request.use((config) => {
  const token = localStorage.getItem('token');
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});
```

### 3. **Context API** - 状态管理
```javascript
// AuthContext 管理用户登录状态
const { user, login, logout, isAuthenticated } = useAuth();
```

### 4. **Ant Design** - UI 组件库
- Table（表格）
- Form（表单）
- Modal（模态框）
- Button（按钮）
- Input（输入框）
- 等等...

## 🚀 启动步骤

### 1. 安装依赖
```bash
npm install
```

### 2. 启动开发服务器
```bash
npm run dev
```

### 3. 访问应用
打开浏览器访问：`http://localhost:5173`

## 📝 API 接口说明

所有 API 调用都封装在 `src/services/api.js`：

### 认证 API
- `authAPI.register(data)` - 注册
- `authAPI.login(data)` - 登录
- `authAPI.changePassword(data)` - 修改密码

### 用户 API
- `userAPI.getCurrentUser()` - 获取当前用户
- `userAPI.listUsers()` - 获取用户列表
- `userAPI.getUser(id)` - 获取单个用户
- `userAPI.createUser(data)` - 创建用户
- `userAPI.updateUser(id, data)` - 更新用户
- `userAPI.deleteUser(id)` - 删除用户
- `userAPI.searchUsers(name, minAge, maxAge)` - 搜索用户

### 角色 API
- `roleAPI.listRoles()` - 获取所有角色
- `roleAPI.assignRole(userId, roleId)` - 分配角色
- `roleAPI.removeRole(userId, roleId)` - 移除角色
- `roleAPI.getUserRoles(userId)` - 获取用户角色

## 🎨 UI 设计特点

1. **登录/注册页面**
   - 渐变背景（紫色渐变）
   - 卡片式设计
   - Tab 切换登录/注册

2. **主界面**
   - 左侧导航栏
   - 顶部用户信息
   - 内容区域

3. **用户管理**
   - 表格展示
   - 搜索栏
   - 操作按钮（编辑/删除）
   - 创建用户模态框

## 🔒 安全特性

1. **Token 管理**
   - Token 存储在 localStorage
   - 请求自动携带 Token
   - Token 失效自动跳转登录

2. **路由保护**
   - 未登录用户无法访问受保护页面
   - 自动重定向到登录页

3. **错误处理**
   - 统一的错误提示
   - 网络错误处理
   - API 错误处理

## 📱 响应式设计

- 支持桌面端和移动端
- Ant Design 组件自动适配
- 灵活的布局系统

## 🐛 调试技巧

1. **查看网络请求**
   - 打开浏览器开发者工具（F12）
   - 查看 Network 标签
   - 检查 API 请求和响应

2. **查看控制台**
   - 查看 Console 标签
   - 检查错误信息

3. **检查 Token**
   - 打开 Application/Storage
   - 查看 localStorage
   - 检查 token 是否存在

## 📚 学习资源

- [React 官方文档](https://react.dev/)
- [React Router 文档](https://reactrouter.com/)
- [Ant Design 文档](https://ant.design/)
- [Vite 文档](https://vite.dev/)
- [Axios 文档](https://axios-http.com/)

## 🎯 下一步可以添加的功能

1. **角色管理页面**
   - 角色列表
   - 角色权限配置

2. **数据可视化**
   - 用户统计图表
   - 数据看板

3. **文件上传**
   - 用户头像上传
   - 文件管理

4. **更多功能**
   - 操作日志
   - 消息通知
   - 主题切换

## ✅ 项目完成度

- ✅ 用户认证系统：100%
- ✅ 用户管理功能：100%
- ✅ UI/UX 设计：100%
- ✅ 路由和权限：100%
- ✅ API 集成：100%

**总体完成度：100%** 🎉

